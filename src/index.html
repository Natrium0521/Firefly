<!DOCTYPE html>
<html>

<head>
    <title>流萤工具箱</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/gacha.css">
    <link rel="stylesheet" href="./css/settings.css">
    <link rel="stylesheet" href="./css/alert.css">
</head>

<body>
    <div class="bg"> </div>
    <div class="banner dragable">
        <div class="icon"><img src="./img/favicon.ico"></div>
        <span class="title">流萤工具箱</span>
        <svg class="close undragable" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 16L32 32" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M16 32L32 16" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <svg class="maxize undragable" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 16L34 16" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M14 32L34 32" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M14 16L14 32" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M34 16L34 32" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <svg class="minize undragable" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 24L32 24" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </div>
    <div class="container">
        <div class="tab box">
            <div class="tablabel select" id="tab_achievement">
                <div class="tabico">
                    <img src="./img/hsr/AchievementIcon.png" />
                </div>
                <span class="tabtext">成就管理</span>
            </div>
            <div class="tablabel" id="tab_gacha">
                <div class="tabico">
                    <img src="./img/hsr/DrawcardIcon.png" />
                </div>
                <span class="tabtext">跃迁记录</span>
            </div>
            <div class="tablabel" id="tab_settings">
                <div class="tabico">
                    <img src="./img/hsr/SettingsIcon.png" />
                </div>
                <span class="tabtext">设置</span>
            </div>
        </div>
        <div class="page">
            <div class="pagebox show" id="page_achievement">
                <div class="box achievement_head">
                    <div class="achi_info">loading</div>
                    <div class="achi_search">
                        <input class="search_box" spellcheck="false" placeholder="搜索成就名称、描述、编号">
                        <img class="search_clr" src="./img/svg/close.svg">
                        <img class="search_ico" src="./img/svg/search.svg">
                    </div>
                    <div class="achi_filter click_dropdown_btn">
                        <div class="btn">
                            <img src="./img/svg/filter.svg">
                        </div>
                        <div class="dropdown">
                            <div class="version"> </div>
                            <div class="order">
                                <div class="row">
                                    <div class="item on">未完成优先</div>
                                </div>
                            </div>
                            <div class="state">
                                <div class="row">
                                    <div class="item">已完成成就</div>
                                    <div class="item">未完成成就</div>
                                </div>
                            </div>
                            <div class="showtype">
                                <div class="row">
                                    <div class="item">隐藏成就</div>
                                    <div class="item">非隐藏成就</div>
                                </div>
                            </div>
                            <div class="meachi">
                                <div class="row">
                                    <div class="item">只显示互斥成就</div>
                                </div>
                            </div>
                            <div class="clear_filter">
                                <div class="row">
                                    <div class="item">重置所有选项</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="achi_batch_op click_dropdown_btn">
                        <div class="btn">
                            <img src="./img/svg/done-all.svg">
                        </div>
                        <div class="dropdown">
                            <div class="info">批量操作当前展示的所有成就<br>（互斥成就除外）<br><span
                                    style="color: red; font-size: 0.95em;">注意：该操作无法撤销！</span></div>
                            <div class="batch">
                                <div class="row">
                                    <div class="item">全选</div>
                                    <div class="item">全不选</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="achi_account">
                        <div class="uid_wrap">
                            <div class="uid_show">
                                <div class="nickname"> </div>
                                <div class="uid"> </div>
                                <img class="dropdown_ico" src="./img/svg/drop_down.svg">
                            </div>
                            <div class="uid_dropdown"> </div>
                        </div>
                        <div class="op_wrap">
                            <div class="op_btn"><img src="./img/svg/more.svg"></div>
                            <div class="op_dropdown">
                                <div class="item">
                                    <div class="icon">
                                        <img src="./img/svg/newlybuild.svg">
                                    </div>
                                    <div class="text"> 新建 </div>
                                </div>
                                <div class="item">
                                    <div class="icon">
                                        <img src="./img/svg/import.svg">
                                    </div>
                                    <div class="text"> 导入 </div>
                                </div>
                                <div class="item">
                                    <div class="icon">
                                        <img src="./img/svg/export.svg">
                                    </div>
                                    <div class="text"> 导出 </div>
                                </div>
                                <div class="item">
                                    <div class="icon">
                                        <img src="./img/svg/rename.svg">
                                    </div>
                                    <div class="text"> 重命名 </div>
                                </div>
                                <div class="item">
                                    <div class="icon">
                                        <img src="./img/svg/delete.svg">
                                    </div>
                                    <div class="text"> 删除 </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box achievement_body">
                    <div class="achi_series">
                    </div>
                    <div class="achi_box">
                    </div>
                </div>
            </div>
            <div class="pagebox" id="page_gacha">
                <div class="box gacha_head">
                    <div class="uid_wrap">
                        <div class="uid_show">
                            <div class="nickname"></div>
                            <div class="uid"></div>
                            <img class="dropdown_ico" src="./img/svg/drop_down.svg">
                        </div>
                        <div class="uid_dropdown"> </div>
                    </div>
                    <div class="refresh_wrap btn">
                        <div class="ico">
                            <img src="./img/svg/refresh.svg">
                        </div>
                        <div class="label">刷新</div>
                    </div>
                    <div class="rename_wrap btn">
                        <div class="ico">
                            <img src="./img/svg/rename.svg">
                        </div>
                        <div class="label">重命名</div>
                    </div>
                    <div class="import_wrap btn">
                        <div class="ico">
                            <img src="./img/svg/import.svg">
                        </div>
                        <div class="label">导入</div>
                        <div class="dropdown_wrap">
                            <div class="dropdown">
                                <div class="method file">
                                    <div class="img">
                                        <img src="./img/svg/file-code.svg">
                                    </div>
                                    <div class="label">从文件导入</div>
                                </div>
                                <div class="method url">
                                    <div class="img">
                                        <img src="./img/svg/link.svg">
                                    </div>
                                    <div class="label">从链接导入</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="export_wrap btn">
                        <div class="ico">
                            <img src="./img/svg/export.svg">
                        </div>
                        <div class="label">导出</div>
                    </div>
                    <div class="delete_wrap btn">
                        <div class="ico">
                            <img src="./img/svg/delete.svg">
                        </div>
                        <div class="label">删除</div>
                    </div>
                </div>
                <div class="gacha_body">
                    <div class="box gacha_pool avatar">
                        <div class="title">
                            <div class="text">限定角色</div>
                            <div class="btns">
                                <div class="slider"></div>
                                <div class="btn cardview on">
                                    <img src="./img/svg/view-grid-card.svg">
                                </div>
                                <div class="btn listview">
                                    <img src="./img/svg/view-grid-list.svg">
                                </div>
                            </div>
                        </div>
                        <div class="count">
                            <div class="total">
                                <div class="number"></div>
                                <div class="unit">抽</div>
                            </div>
                            <div class="guarantee">
                                <div class="star5">
                                    <div class="bar"></div>
                                    <div class="text">距上个五星</div>
                                    <div class="text number"></div>
                                </div>
                                <div class="star4">
                                    <div class="bar"></div>
                                    <div class="text">距上个四星</div>
                                    <div class="text number"></div>
                                </div>
                            </div>
                        </div>
                        <div class="analyze">
                            <div class="time">~</div>
                            <div class="blocks">
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">金</div>
                                    </div>
                                    <div class="label">五星数</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">%</div>
                                    </div>
                                    <div class="label">不歪概率</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">抽</div>
                                    </div>
                                    <div class="label">五星平均</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">抽</div>
                                    </div>
                                    <div class="label">UP平均</div>
                                </div>
                            </div>
                        </div>
                        <div class="show_box">
                            <div class="card_view show"> </div>
                            <div class="list_view"> </div>
                        </div>
                    </div>
                    <div class="box gacha_pool lightcone">
                        <div class="title">
                            <div class="text">限定光锥</div>
                            <div class="btns">
                                <div class="slider"></div>
                                <div class="btn cardview on">
                                    <img src="./img/svg/view-grid-card.svg">
                                </div>
                                <div class="btn listview">
                                    <img src="./img/svg/view-grid-list.svg">
                                </div>
                            </div>
                        </div>
                        <div class="count">
                            <div class="total">
                                <div class="number"></div>
                                <div class="unit">抽</div>
                            </div>
                            <div class="guarantee">
                                <div class="star5">
                                    <div class="bar"></div>
                                    <div class="text">距上个五星</div>
                                    <div class="text number"></div>
                                </div>
                                <div class="star4">
                                    <div class="bar"></div>
                                    <div class="text">距上个四星</div>
                                    <div class="text number"></div>
                                </div>
                            </div>
                        </div>
                        <div class="analyze">
                            <div class="time">~</div>
                            <div class="blocks">
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">金</div>
                                    </div>
                                    <div class="label">五星数</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">%</div>
                                    </div>
                                    <div class="label">不歪概率</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">抽</div>
                                    </div>
                                    <div class="label">五星平均</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">抽</div>
                                    </div>
                                    <div class="label">UP平均</div>
                                </div>
                            </div>
                        </div>
                        <div class="show_box">
                            <div class="card_view show"> </div>
                            <div class="list_view"> </div>
                        </div>
                    </div>
                    <div class="box gacha_pool normal">
                        <div class="title">
                            <div class="text">常驻</div>
                            <div class="btns">
                                <div class="slider"></div>
                                <div class="btn cardview on">
                                    <img src="./img/svg/view-grid-card.svg">
                                </div>
                                <div class="btn listview">
                                    <img src="./img/svg/view-grid-list.svg">
                                </div>
                            </div>
                        </div>
                        <div class="count">
                            <div class="total">
                                <div class="number"></div>
                                <div class="unit">抽</div>
                            </div>
                            <div class="guarantee">
                                <div class="star5">
                                    <div class="bar"></div>
                                    <div class="text">距上个五星</div>
                                    <div class="text number"></div>
                                </div>
                                <div class="star4">
                                    <div class="bar"></div>
                                    <div class="text">距上个四星</div>
                                    <div class="text number"></div>
                                </div>
                            </div>
                        </div>
                        <div class="analyze">
                            <div class="time">~</div>
                            <div class="blocks">
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">金</div>
                                    </div>
                                    <div class="label">常驻池</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">抽</div>
                                    </div>
                                    <div class="label">常驻平均</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">金</div>
                                    </div>
                                    <div class="label">新手池</div>
                                </div>
                                <div class="block">
                                    <div class="value">
                                        <div class="number"></div>
                                        <div class="unit">抽</div>
                                    </div>
                                    <div class="label">新手平均</div>
                                </div>
                            </div>
                        </div>
                        <div class="show_box">
                            <div class="card_view show"> </div>
                            <div class="list_view"> </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pagebox" id="page_settings">
                <div class="box about">
                    <div class="area">
                        <div class="icon"><img src="./img/icon.png"></div>
                        <div class="version"></div>
                        <div class="links">
                            <div class="link">
                                项目链接 <a href="https://github.com/Natrium0521/Firefly">GitHub</a>
                            </div>
                            <div class="link">
                                游戏数据来自 <a href="https://github.com/Dimbreath/StarRailData">StarRailData</a>
                            </div>
                            <div class="link">
                                跃迁记录导出标准 <a href="https://uigf.org/">SRGF</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box settings">
                    <div class="title">流萤工具箱</div>
                    <div class="area">
                        <div class="switchitem">
                            <div class="icon"><img src="./img/svg/close-circle.svg"></div>
                            <div class="text">
                                <div class="title">关闭时直接退出</div>
                                <div class="desc">不保留托盘图标</div>
                            </div>
                            <div class="switch"><input type="checkbox" id="switch_close_directly"></div>
                        </div>
                        <div class="switchitem">
                            <div class="icon"><img src="./img/svg/bug.svg"></div>
                            <div class="text">
                                <div class="title">Debug模式（重启生效）</div>
                                <div class="desc">不建议非开发人员开启</div>
                            </div>
                            <div class="switch"><input type="checkbox" id="switch_debug"></div>
                        </div>
                    </div>
                </div>
                <div class="box settings">
                    <div class="title">游戏</div>
                    <div class="area">
                        <div class="switchitem">
                            <div class="icon"><img src="./img/svg/unlock.svg"></div>
                            <div class="text">
                                <div class="title">是否解锁120帧</div>
                                <div class="desc">解锁前请先在游戏中修改任意图像设置（使图像质量显示为自定义）并退出游戏</div>
                            </div>
                            <div class="switch"><input type="checkbox" id="switch_unlock_fps"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layer" id="layer">
            <div class="layerbox achievement_newuser">
                <div class="title">新建成就存档</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">UID:</div>
                        <input class="input" spellcheck="false" placeholder="九位数字UID">
                    </div>
                    <div class="input_item">
                        <div class="label">名称:</div>
                        <input class="input" spellcheck="false" placeholder="展示在成就页面的名称">
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">新建</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox achievement_rename">
                <div class="title">修改当前存档名称</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">名称:</div>
                        <input class="input" spellcheck="false" placeholder="">
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">重命名</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox achievement_deluser">
                <div class="title">删除当前存档</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">确认:</div>
                        <input class="input" spellcheck="false" placeholder="请输入 删除">
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">删除</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox achievement_import">
                <div class="title">导入存档</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">导入格式:</div>
                        <select>
                            <option value="firefly">流萤</option>
                        </select>
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">导入</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox achievement_export">
                <div class="title">导出存档</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">导出格式:</div>
                        <select>
                            <option value="firefly">流萤</option>
                        </select>
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">导出</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox gacha_rename">
                <div class="title">修改当前记录名称</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">名称:</div>
                        <input class="input" spellcheck="false" placeholder="">
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">重命名</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox gacha_delete">
                <div class="title">删除当前记录</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">确认:</div>
                        <input class="input" spellcheck="false" placeholder="请输入 删除">
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">删除</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox gacha_import">
                <div class="title">导入记录</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">导入格式:</div>
                        <select>
                            <option value="srgf_v1.0">SRGF v1.0</option>
                        </select>
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">导入</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox gacha_export">
                <div class="title">导出记录</div>
                <div class="input_area">
                    <div class="input_item">
                        <div class="label">导出格式:</div>
                        <select>
                            <option value="srgf_v1.0">SRGF v1.0</option>
                        </select>
                    </div>
                </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">导出</div>
                </div>
                <div class="msgbox"></div>
            </div>
            <div class="layerbox gacha_refresh">
                <div class="title">刷新记录</div>
                <div class="url_area">
                    <div class="label">URL:</div>
                    <div class="btn">自动获取</div>
                    <textarea spellcheck="false"
                        placeholder="https://api-takumi.mihoyo.com/common/gacha_record/api/getGachaLog?"
                        wrap="hard"></textarea>
                </div>
                <div class="card_area"> </div>
                <div class="btnarea">
                    <div class="btn close">取消</div>
                    <div class="btn theme submit">刷新</div>
                </div>
                <div class="msgbox"></div>
            </div>
        </div>
        <div class="alert" id="alert_layer"> </div>
    </div>
</body>

<script src="./js/flip.js"></script>
<script src="./js/alert.js"></script>
<script src="./js/achievement.js"></script>
<script src="./js/gacha.js"></script>
<script src="./js/settings.js"></script>
<script src="./js/index.js"></script>

</html>